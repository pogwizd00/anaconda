# Generated by Anaconda 38.23.4
# Generated by pykickstart v3.47
#version=F38
# Use graphical install
graphical

# Keyboard layouts
keyboard --vckeymap=us --xlayouts='us'
# System language
lang en_US.UTF-8

url --mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=fedora-38&arch=x86_64
repo --name=update --mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=updates-released-f38&arch=x86_64

%packages
@^server-product-environment

%end

# Run the Setup Agent on first boot
firstboot --enable

# Generated using Blivet version 3.7.1
ignoredisk --only-use=sda
autopart
# Partition clearing information
clearpart --all --initlabel

# System timezone
timezone America/New_York --utc

# Root password
rootpw --iscrypted --allow-ssh $y$j9T$btsxS6CcfDgPAeBGIKB.zwpC$0J5.Ko6/2CP4pgzs>
user --groups=wheel --name=piotr --password=$y$j9T$4denfW2OD3.hX/OGhKTfOv/X$Rpo>

%post
# Install Docker
dnf -y install dnf-plugins-core
dnf config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo
dnf install docker-ce --nobest -y
systemctl start docker
systemctl enable docker

# Pull the Docker image from Docker Hub
docker pull pogwizd/yarn-app:latest

# Build the Docker image from the pulled image
docker build -t yarn-app .

# Run the Docker container from the built image
docker run -it --name yarn-container yarn-app /bin/bash

%end